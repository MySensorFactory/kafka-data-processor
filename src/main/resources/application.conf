spark {
  checkpoint-location = "/tmp/spark-checkpoints"
  batch-duration = 5000  # milliseconds
}

kafka {
  bootstrap-servers = "kafka-cluster.local:9092,kafka-cluster.local:9093,kafka-cluster.local:9094"
  schema-registry-url = "http://schema-registry.local"
}

mean {
  enabled = true
  
  pressure {
    enabled = true
    window-size = 120  # seconds
    input-topic = "pressure"
    output-topics-postfix = "-mean"
    labels = ["pump", "turbine", "compressor"]
    debug-enabled = true
  }
  
  temperature {
    enabled = true
    window-size = 120  # seconds
    input-topic = "temperature"
    output-topics-postfix = "-mean"
    labels = ["pump", "turbine", "compressor"]
    debug-enabled = true
  }
  
  humidity {
    enabled = true
    window-size = 120  # seconds
    input-topic = "humidity"
    output-topics-postfix = "-mean"
    labels = ["pump", "turbine", "compressor"]
    debug-enabled = true
  }
  
  vibration {
    enabled = true
    window-size = 120  # seconds
    input-topic = "vibration"
    output-topics-postfix = "-mean"
    labels = ["pump", "turbine", "compressor"]
    debug-enabled = true
  }
}

events {
  enabled = true
  result-topic = "factory-events"
  cooldown-period-ms = 300000  # 5 minutes in milliseconds
  
  pressure {
    enabled = true
    input-topic = "pressure-input"
    threshold = 100.0
    critical-threshold = 150.0
    warning-threshold = 100.0
    cooldown-period-ms = 600000  # 10 minutes in milliseconds - overrides global setting
    debug-enabled = true
  }
  
  temperature {
    enabled = true
    input-topic = "temperature-input"
    threshold = 85.0
    critical-threshold = 110.0
    warning-threshold = 85.0
    debug-enabled = true
  }
  
  humidity {
    enabled = true
    input-topic = "humidity-input"
    threshold = 50.0
    critical-threshold = 75.0
    warning-threshold = 50.0
    debug-enabled = true
  }
  
  vibration {
    enabled = true
    input-topic = "noise-vibration-input"
    threshold = 90.0
    critical-threshold = 120.0
    warning-threshold = 90.0
    debug-enabled = true
  }
} 